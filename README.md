# 三国演义文本分析与知识图谱构建

基于Word2Vec的三国演义文本分析项目，使用PyTorch实现词向量训练和多维度文本分析功能。

## 项目结构

```
.
├── three_kingdoms/
│   ├── source/         # 原始三国演义文本
│   └── segment/        # 分词后的文本
├── models/             # 训练好的模型
├── word_seg.py         # 文本分词处理
├── word_similarity_torch.py    # Word2Vec模型训练
└── word_similarity_inference.py # 文本分析与推理
```

## 功能特性

1. 文本预处理
   - 中文分词处理
   - 停用词过滤
   - 分词结果保存

2. Word2Vec模型训练
   - 基于PyTorch实现的Word2Vec模型
   - 支持GPU加速训练
   - 可配置的训练参数（向量维度、窗口大小等）
   - 模型保存与加载

3. 多维度文本分析
   - 词语相似度分析
   - 词向量运算
   - 人物关系分析
   - 阵营归属判断
   - 战役关键词提取
   - 人物行为预测
   - 场景对话生成
   - 情感倾向分析
   - 知识图谱构建

## 使用方法

### 1. 环境准备

```bash
pip install torch jieba numpy
```

### 2. 文本分词

```bash
python word_seg.py
```

### 3. 模型训练

```bash
python word_similarity_torch.py
```

### 4. 文本分析

```bash
python word_similarity_inference.py
```

## 参数配置

### Word2Vec模型训练参数

- `vector_size`: 词向量维度，默认100
- `window`: 上下文窗口大小，默认3
- `min_count`: 最小词频，默认1
- `epochs`: 训练轮数，默认5

### 文本分析参数

- 相似度阈值
  - 亲密关系: >= 0.6
  - 友好关系: >= 0.4
  - 普通关系: >= 0.2
  - 对立关系: < 0.2

## 示例输出

1. 人物关系分析
```
刘备 与 诸葛亮 的关系: 亲密关系 (相似度: 0.7523)
关羽 与 张飞 的关系: 亲密关系 (相似度: 0.6891)
```

2. 阵营分析
```
诸葛亮 最可能属于 蜀汉 阵营 (与刘备的相似度: 0.8234)
```

3. 知识图谱关系
```
刘备 -结义兄弟-> 关羽 (置信度: 0.7123)
诸葛亮 -军师-> 刘备 (置信度: 0.6891)
```

## 注意事项

1. 请确保有足够的训练文本数据
2. GPU训练需要CUDA支持
3. 模型训练时间取决于数据量和训练参数
4. 建议使用大于等于100的词向量维度以获得更好的效果

## 未来改进

1. 支持更多文本预处理选项
2. 添加更多分析维度
3. 优化模型训练性能
4. 提供Web界面展示
5. 支持更多类型的知识图谱关系 
